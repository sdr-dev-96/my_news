<!DOCTYPE html>
{% set article_uris     = ['article_index', 'article_new', 'article_edit'] %}
{% set category_uris    = ['categorie_index', 'categorie_new', 'categorie_edit'] %}
{% set commentaire_uris = ['commentaire_index', 'commentaire_new', 'commentaire_edit'] %}
{% set user_uris        = ['admin_user_index', 'user_new', 'user_edit'] %}
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>{% block title %}{% endblock %} &bull; Admin</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
        <link rel="stylesheet" href="/css/admin.css">
        {% block stylesheets %}{% endblock %}
    </head>
    <body>
        <nav class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0">
            <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="#">MyNews / Admin</a>
            <ul class="navbar-nav px-3">
                <li class="nav-item text-nowrap">
                    <a class="nav-link" href="{{ path('app_logout') }}">Déconnexion</a>
                </li>
            </ul>
        </nav>
        <div class="container-fluid">
            <div class="row">
                <nav class="col-md-2 d-none d-md-block bg-light sidebar">
                    <div class="sidebar-sticky">
                        <ul id="admin-dashboard" class="nav flex-column">
                            <li class="nav-item">
                                <a id="article_link" class="nav-link {% if app.request.get('_route') in article_uris %}active{% endif %}" 
                                    href="{{ path('article_index') }}">
                                    <i class="fas fa-newspaper"></i>
                                    &nbsp;Articles
                                </a>
                            </li>
                            <div class="dropdown-divider"></div>
                            <li class="nav-item">
                                <a id="categorie_link" class="nav-link {% if app.request.get('_route') in category_uris %}active{% endif %}" 
                                    href="{{ path('categorie_index') }}">
                                    <i class="fas fa-archive"></i>
                                    &nbsp;Catégories
                                </a>
                            </li>
                            <div class="dropdown-divider"></div>
                            <li class="nav-item">
                                <a id="commentaire_link" class="nav-link {% if app.request.get('_route') in commentaire_uris %}active{% endif %}" 
                                    href="{{ path('commentaire_index') }}">
                                    <i class="fas fa-comments"></i>
                                    &nbsp;Commentaires
                                </a>
                            </li>
                            <div class="dropdown-divider"></div>
                            <li class="nav-item">
                                <a id="user_link" class="nav-link {% if app.request.get('_route') in user_uris %}active{% endif %}" 
                                    href="{{ path('admin_user_index') }}">
                                    <i class="fas fa-users"></i>
                                    &nbsp;Utilisateurs
                                </a>
                            </li>
                            <div class="dropdown-divider"></div>
                            <li class="nav-item">
                                <a id="user_link" class="nav-link {% if app.request.get('_route') in user_uris %}active{% endif %}" 
                                    href="{{ path('admin_user_index') }}">
                                    <i class="fas fa-comment-dots"></i>
                                    &nbsp;Messages
                                </a>
                            </li>
                            <div class="dropdown-divider"></div>
                            <li class="nav-item">
                                <a class="nav-link" href="{{ path('home') }}">
                                    <i class="fas fa-arrow-left"></i>
                                    &nbsp;Retourner au site
                                </a>
                            </li>
                        </ul>
                    </div>
                    </nav>
            </div>
            <main role="main" class="col-md-9 ml-sm-auto col-lg-10 pt-3 px-4">
            {% block body %}{% endblock %}
            </main>
        </div>
        <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js" defer></script>        
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
        
        <script src="https://cdn.tiny.cloud/1/{{ tinymce_api_key }}/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>
        {% if app.user %}
            <script>
                let idUser = {{ app.user.getId }};
            </script>
        {% endif %}
        <script src="{{ asset('js/admin.min.js?2020') }}" defer></script>
        {% block javascripts %}{% endblock %}
    </body>
</html>